# BOB Google Maps V3.0 - Docker Compose
# Author: Divyanshu Singh Chouhan
# Release: October 3, 2025

version: '3.8'

services:
  bob-extractor:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: bob-google-maps-v3
    image: bob-google-maps:3.0.0
    volumes:
      # Mount cache, logs, and data directories
      - ./cache:/app/cache
      - ./logs:/app/logs
      - ./data:/app/data
      - ./exports:/app/exports
    environment:
      - BOB_HEADLESS=true
      - BOB_CACHE_ENABLED=true
      - BOB_CACHE_PATH=/app/cache/bob_cache_ultimate.db
      - BOB_LOG_LEVEL=INFO
      - BOB_MAX_CONCURRENT=10
      - BOB_PARALLEL_ENABLED=true
    command: tail -f /dev/null  # Keep container running
    networks:
      - bob-network

networks:
  bob-network:
    driver: bridge

# Usage:
# docker-compose up -d
# docker-compose exec bob-extractor python bob_maps_ultimate.py "Business Name"
# docker-compose exec bob-extractor python bob_maps_ultimate.py --batch urls.txt --parallel
# docker-compose down
